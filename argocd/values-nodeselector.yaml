global:
  domain: argocd.local

# Node selectors removed - ArgoCD will schedule on any available node
# If you want to schedule on specific nodes, label them and uncomment:
# controller:
#   nodeSelector:
#     role: web

server:
  ingress:
    enabled: true
    ingressClassName: nginx
    annotations:
      nginx.ingress.kubernetes.io/ssl-redirect: "false"
    hosts:
      - argocd.local
    paths:
      - path: /
        pathType: Prefix

# Repo-server: tăng probe timeout để tránh crashloop do health check bị cancel
# (Error serving health check request ... context canceled -> pod bị kill)
repoServer:
  readinessProbe:
    initialDelaySeconds: 30
    periodSeconds: 10
    timeoutSeconds: 10
    failureThreshold: 6
  livenessProbe:
    initialDelaySeconds: 60
    periodSeconds: 10
    timeoutSeconds: 10
    failureThreshold: 6

configs:
  params:
    server.insecure: "true"